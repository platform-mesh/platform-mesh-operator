apiVersion: apis.kcp.io/v1alpha1
kind: APIResourceSchema
metadata:
  name: v260216-62483c5.terminals.terminal.platform-mesh.io
spec:
  group: terminal.platform-mesh.io
  names:
    kind: Terminal
    listKind: TerminalList
    plural: terminals
    singular: terminal
  scope: Cluster
  versions:
  - additionalPrinterColumns:
    - jsonPath: .status.workspacePath
      name: Workspace
      type: string
    - jsonPath: .status.phase
      name: Phase
      type: string
    - jsonPath: .status.podName
      name: Pod
      type: string
    - jsonPath: .status.conditions[?(@.type=="Ready")].status
      name: Ready
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      description: |-
        Terminal is the Schema for the terminals API.
        Create a Terminal resource in a KCP workspace to get an interactive shell
        with kubectl configured to access that workspace.
      properties:
        apiVersion:
          description: |-
            APIVersion defines the versioned schema of this representation of an object.
            Servers should convert recognized schemas to the latest internal value, and
            may reject unrecognized values.
            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
          type: string
        kind:
          description: |-
            Kind is a string value representing the REST resource this object represents.
            Servers may infer this from the endpoint the client submits requests to.
            Cannot be updated.
            In CamelCase.
            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
          type: string
        metadata:
          type: object
        spec:
          description: |-
            TerminalSpec defines the desired state of Terminal.
            The target workspace is derived from where this resource is created.
            The host configuration (namespace, image, timeouts) is controlled by the controller.
          type: object
        status:
          description: TerminalStatus defines the observed state of Terminal
          properties:
            conditions:
              description: Conditions represent the latest available observations
                of the terminal's state
              items:
                description: Condition contains details for one aspect of the current
                  state of this API Resource.
                properties:
                  lastTransitionTime:
                    description: |-
                      lastTransitionTime is the last time the condition transitioned from one status to another.
                      This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                    format: date-time
                    type: string
                  message:
                    description: |-
                      message is a human readable message indicating details about the transition.
                      This may be an empty string.
                    maxLength: 32768
                    type: string
                  observedGeneration:
                    description: |-
                      observedGeneration represents the .metadata.generation that the condition was set based upon.
                      For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                      with respect to the current state of the instance.
                    format: int64
                    minimum: 0
                    type: integer
                  reason:
                    description: |-
                      reason contains a programmatic identifier indicating the reason for the condition's last transition.
                      Producers of specific condition types may define expected values and meanings for this field,
                      and whether the values are considered a guaranteed API.
                      The value should be a CamelCase string.
                      This field may not be empty.
                    maxLength: 1024
                    minLength: 1
                    pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                    type: string
                  status:
                    description: status of the condition, one of True, False, Unknown.
                    enum:
                    - "True"
                    - "False"
                    - Unknown
                    type: string
                  type:
                    description: type of condition in CamelCase or in foo.example.com/CamelCase.
                    maxLength: 316
                    pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                    type: string
                required:
                - lastTransitionTime
                - message
                - reason
                - status
                - type
                type: object
              type: array
            createdBy:
              description: |-
                CreatedBy stores the user identity (sub claim from OIDC token) who created this terminal.
                Used to verify the connecting user matches the creator.
              type: string
            nextReconcileTime:
              description: NextReconcileTime is the next scheduled reconciliation
                time
              format: date-time
              type: string
            observedGeneration:
              description: ObservedGeneration is the most recent generation observed
                for this resource
              format: int64
              type: integer
            phase:
              description: Phase represents the current phase of the terminal
              type: string
            podName:
              description: PodName is the name of the created terminal pod on the
                runtime cluster
              type: string
            sessionId:
              description: |-
                SessionID is a unique, non-guessable identifier for this terminal session.
                Used in the HTTPRoute path to prevent unauthorized access.
              type: string
            workspacePath:
              description: WorkspacePath is the resolved KCP workspace path where
                this terminal was created
              type: string
          type: object
      type: object
    served: true
    storage: true
    subresources:
      status: {}
